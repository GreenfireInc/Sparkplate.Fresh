# keyForge: Vue.js Migration & Integration Guide

**Date:** December 28, 2025  
**Target Audience:** Human Developers & AI/LLM Assistants  
**Purpose:** Guide for migrating keyForge from React/Vite to Vue.js or integrating into a larger Vue.js project

---

## Table of Contents

1. [Project Overview](#1-project-overview)
2. [Technology Stack Analysis](#2-technology-stack-analysis)
3. [Architecture Patterns](#3-architecture-patterns)
4. [Core Dependencies](#4-core-dependencies)
5. [State Management Strategy](#5-state-management-strategy)
6. [Component Migration Map](#6-component-migration-map)
7. [Critical Utilities & Functions](#7-critical-utilities--functions)
8. [Build Configuration](#8-build-configuration)
9. [Migration Strategy](#9-migration-strategy)
10. [Integration Patterns](#10-integration-patterns)
11. [Testing Considerations](#11-testing-considerations)
12. [Security & Cryptography Notes](#12-security--cryptography-notes)

---

## 1. Project Overview

### What is keyForge?

**keyForge** is a cryptocurrency wallet generator that creates:
- BIP39 mnemonic seed phrases (12 or 24 words)
- Hierarchical deterministic (HD) wallet addresses for 8 cryptocurrencies:
  - Bitcoin (BTC)
  - Ethereum (ETH)
  - Litecoin (LTC)
  - Dogecoin (DOGE)
  - Tron (TRX)
  - Solana (SOL)
  - Tezos (XTZ)
  - Terra Classic (LUNC)
- Deterministic GPG keypairs for each wallet
- Export functionality (JSON, CSV, TXT, PNG, PDF)
- Import functionality from various file formats

### Core Features

1. **Seed Phrase Generation & Validation**
   - BIP39 compliant mnemonic generation
   - Checksum validation with suggestions
   - Mnemonic expansion (12 â†’ 24 words)

2. **Address Derivation**
   - BIP32/BIP44 compliant HD derivation paths
   - Custom derivation indices (0-999,999)
   - PIN-based derivation path exploration

3. **GPG Key Generation**
   - Deterministic GPG keypairs from private keys
   - BIP32 Root GPG Key Fingerprint
   - OpenPGP-compliant keys

4. **Export Capabilities**
   - Text formats: JSON, CSV, TXT
   - Visual formats: PNG, PDF (with selectable text overlay)
   - QR codes for addresses and keys
   - Professional layouts with branding

5. **Private Key Recovery**
   - Convert private keys to mnemonic phrases
   - Multiple derivation methods
   - GPG fingerprint verification

---

## 2. Technology Stack Analysis

### Current Stack (React/Vite)

| Category | Technology | Version | Vue.js Alternative |
|----------|-----------|---------|-------------------|
| **Framework** | React | 18.3.1 | Vue 3.4+ |
| **Build Tool** | Vite | 5.4.19 | Vite (same) |
| **Language** | TypeScript | 5.8.3 | TypeScript (same) |
| **Routing** | react-router-dom | 6.30.1 | vue-router 4.x |
| **State** | React Hooks | Built-in | Composition API / Pinia |
| **UI Library** | shadcn-ui + Radix UI | Various | Radix Vue / PrimeVue / Headless UI |
| **Styling** | Tailwind CSS | 3.4.17 | Tailwind CSS (same) |
| **Forms** | react-hook-form | 7.61.1 | VeeValidate / Vue Formulate |
| **Queries** | @tanstack/react-query | 5.83.0 | @tanstack/vue-query |
| **Icons** | lucide-react | 0.462.0 | lucide-vue-next |
| **Toast** | sonner | 1.7.4 | Vue Sonner / vue-toastification |

### Framework-Agnostic Dependencies (Keep As-Is)

These dependencies work in any JavaScript environment and should be preserved:

#### Cryptocurrency Libraries
```json
{
  "bip32": "^5.0.0",              // HD wallet derivation
  "bip39": "^3.1.0",              // Mnemonic generation
  "bitcoinjs-lib": "^7.0.0",      // Bitcoin operations
  "ethers": "^6.15.0",            // Ethereum operations
  "@solana/web3.js": "^1.98.4",  // Solana operations
  "bs58": "^6.0.0",               // Base58 encoding
  "tiny-secp256k1": "^2.2.4"      // Elliptic curve cryptography
}
```

#### Cryptography & Security
```json
{
  "openpgp": "^6.2.2",            // GPG key generation
  "@noble/curves": "^1.9.7"       // Cryptographic curves
}
```

#### Export & Visualization
```json
{
  "qrcode": "^1.5.4",             // QR code generation
  "jspdf": "^3.0.4",              // PDF generation
  "html2canvas": "^1.4.1"         // Canvas to image
}
```

#### Utilities
```json
{
  "date-fns": "^3.6.0",           // Date formatting
  "zod": "^3.25.76",              // Schema validation
  "clsx": "^2.1.1",               // Class name utilities
  "tailwind-merge": "^2.6.0"      // Tailwind class merging
}
```

---

## 3. Architecture Patterns

### Current Architecture (React)

```
keyForge/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx                           # Root component with providers
â”‚   â”œâ”€â”€ main.tsx                          # Entry point
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ Index.tsx                     # Main page component
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SeedPhraseGenerator.tsx       # Seed generation & validation
â”‚   â”‚   â”œâ”€â”€ AddressDisplay.tsx            # Address display & export
â”‚   â”‚   â”œâ”€â”€ modals/
â”‚   â”‚   â”‚   â”œâ”€â”€ ChecksumModal.tsx         # Mnemonic checksum validation
â”‚   â”‚   â”‚   â”œâ”€â”€ AdvancedModal.tsx         # Mnemonic expansion
â”‚   â”‚   â”‚   â”œâ”€â”€ DerivationPathDiveModal.tsx # PIN-based derivation
â”‚   â”‚   â”‚   â”œâ”€â”€ PrivateKeyToMnemonicModal.tsx # Key recovery
â”‚   â”‚   â”‚   â””â”€â”€ FileEncryptionModal.tsx   # File encryption/decryption
â”‚   â”‚   â””â”€â”€ ui/                           # Reusable UI components
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ cryptoGenerator.ts            # Main crypto generation logic
â”‚   â”‚   â”œâ”€â”€ deterministicGPG.ts           # Deterministic GPG generation
â”‚   â”‚   â””â”€â”€ gpgFrom.rootExtendedPrivateKey.ts # Root GPG key derivation
â”‚   â”œâ”€â”€ exportStandard/
â”‚   â”‚   â””â”€â”€ currencies/
â”‚   â”‚       â”œâ”€â”€ filenameStructureAndContent.seed.text.ts
â”‚   â”‚       â”œâ”€â”€ filenameStructureAndContent.seed.visual.ts
â”‚   â”‚       â”œâ”€â”€ filenameStructureAndContent.individual.text.ts
â”‚   â”‚       â”œâ”€â”€ filenameStructureAndContent.individual.visual.ts
â”‚   â”‚       â”œâ”€â”€ filenameStructureAndContent.walletAddresses.text.ts
â”‚   â”‚       â”œâ”€â”€ filenameStructureAndContent.walletAddresses.visual.ts
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ importStandard/
â”‚   â”‚   â””â”€â”€ fileImports.seed.ts
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ use-toast.ts
â”‚       â””â”€â”€ use-mobile.tsx
â””â”€â”€ public/
    â””â”€â”€ assets/
        â””â”€â”€ icons/
            â”œâ”€â”€ crypto/         # 80 cryptocurrency SVG icons
            â”œâ”€â”€ greenfire/      # Branding logos
            â””â”€â”€ other/          # Misc icons (OpenPGP, etc.)
```

### Recommended Vue Architecture

```
keyForge-vue/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue                           # Root component
â”‚   â”œâ”€â”€ main.ts                           # Entry point
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â””â”€â”€ IndexView.vue                 # Main view (replaces pages/Index.tsx)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SeedPhraseGenerator.vue       # Convert to Vue SFC
â”‚   â”‚   â”œâ”€â”€ AddressDisplay.vue            # Convert to Vue SFC
â”‚   â”‚   â”œâ”€â”€ modals/
â”‚   â”‚   â”‚   â”œâ”€â”€ ChecksumModal.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ AdvancedModal.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ DerivationPathDiveModal.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ PrivateKeyToMnemonicModal.vue
â”‚   â”‚   â”‚   â””â”€â”€ FileEncryptionModal.vue
â”‚   â”‚   â””â”€â”€ ui/                           # Convert or use Vue UI library
â”‚   â”œâ”€â”€ composables/                      # Vue composables (replaces hooks)
â”‚   â”‚   â”œâ”€â”€ useToast.ts
â”‚   â”‚   â””â”€â”€ useMobile.ts
â”‚   â”œâ”€â”€ utils/                            # Keep as-is (pure TypeScript)
â”‚   â”‚   â”œâ”€â”€ cryptoGenerator.ts
â”‚   â”‚   â”œâ”€â”€ deterministicGPG.ts
â”‚   â”‚   â””â”€â”€ gpgFrom.rootExtendedPrivateKey.ts
â”‚   â”œâ”€â”€ exportStandard/                   # Keep as-is (pure TypeScript)
â”‚   â”‚   â””â”€â”€ currencies/
â”‚   â”œâ”€â”€ importStandard/                   # Keep as-is (pure TypeScript)
â”‚   â”œâ”€â”€ stores/                           # Pinia stores (if needed)
â”‚   â”‚   â””â”€â”€ crypto.ts
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ crypto.ts                     # Shared TypeScript interfaces
â””â”€â”€ public/                               # Keep as-is
    â””â”€â”€ assets/
```

---

## 4. Core Dependencies

### Dependencies That MUST Be Migrated

These React-specific dependencies need Vue equivalents:

#### UI Component Libraries

**Current (React):**
```json
{
  "@radix-ui/react-*": "Various versions"  // 20+ Radix UI components
}
```

**Vue Alternatives:**

1. **Radix Vue** (Recommended - closest match)
   ```bash
   npm install radix-vue
   ```
   - Near 1:1 API parity with Radix React
   - Unstyled, accessible primitives
   - Works with Tailwind CSS

2. **Headless UI for Vue**
   ```bash
   npm install @headlessui/vue
   ```
   - By Tailwind Labs
   - Fully accessible
   - Smaller component set

3. **PrimeVue** (Full-featured alternative)
   ```bash
   npm install primevue primeicons
   ```
   - Complete UI library
   - More opinionated styling

#### Routing

**Current (React):**
```typescript
import { BrowserRouter, Routes, Route } from "react-router-dom";
```

**Vue Equivalent:**
```bash
npm install vue-router@4
```

```typescript
import { createRouter, createWebHistory } from 'vue-router';
```

#### State Management

**Current (React):**
- Local state: `useState`, `useEffect`
- No global state management library

**Vue Equivalent:**
- Local state: `ref`, `reactive`, `computed` (Composition API)
- Global state (if needed): Pinia

```bash
npm install pinia
```

#### Forms

**Current (React):**
```json
{
  "react-hook-form": "^7.61.1",
  "@hookform/resolvers": "^3.10.0"
}
```

**Vue Equivalent:**
```bash
npm install vee-validate @vee-validate/zod
```

#### Query Management

**Current (React):**
```json
{
  "@tanstack/react-query": "^5.83.0"
}
```

**Vue Equivalent:**
```bash
npm install @tanstack/vue-query
```

---

## 5. State Management Strategy

### Current React Pattern

The application uses **local state with prop drilling**:

```typescript
// Index.tsx (Parent)
const [seedPhrase, setSeedPhrase] = useState("");
const [addresses, setAddresses] = useState<CryptoAddress[]>([]);
const [isGenerating, setIsGenerating] = useState(false);
const [derivationIndices, setDerivationIndices] = useState<Record<string, number>>({});

// Pass down as props
<SeedPhraseGenerator
  seedPhrase={seedPhrase}
  onSeedPhraseChange={setSeedPhrase}
  onGenerateAddresses={handleGenerateAddresses}
/>

<AddressDisplay
  addresses={addresses}
  mnemonic={seedPhrase}
  derivationIndices={derivationIndices}
  onDerivationIndexChange={handleDerivationIndexChange}
/>
```

### Recommended Vue Pattern (Option 1: Composition API with Props)

**IndexView.vue:**
```vue
<script setup lang="ts">
import { ref } from 'vue';
import SeedPhraseGenerator from '@/components/SeedPhraseGenerator.vue';
import AddressDisplay from '@/components/AddressDisplay.vue';

const seedPhrase = ref('');
const addresses = ref<CryptoAddress[]>([]);
const isGenerating = ref(false);
const derivationIndices = ref<Record<string, number>>({});

const handleGenerateAddresses = async (indices: Record<string, number>) => {
  // Same logic as React version
};

const handleDerivationIndexChange = async (currency: string, index: number) => {
  // Same logic as React version
};
</script>

<template>
  <SeedPhraseGenerator
    v-model:seed-phrase="seedPhrase"
    @generate-addresses="handleGenerateAddresses"
  />

  <AddressDisplay
    :addresses="addresses"
    :mnemonic="seedPhrase"
    :derivation-indices="derivationIndices"
    @derivation-index-change="handleDerivationIndexChange"
  />
</template>
```

### Recommended Vue Pattern (Option 2: Pinia Store)

For larger integrations, consider using Pinia:

**stores/crypto.ts:**
```typescript
import { defineStore } from 'pinia';
import { ref, computed } from 'vue';
import { generateAddressesFromMnemonic } from '@/utils/cryptoGenerator';

export const useCryptoStore = defineStore('crypto', () => {
  const seedPhrase = ref('');
  const addresses = ref<CryptoAddress[]>([]);
  const isGenerating = ref(false);
  const derivationIndices = ref<Record<string, number>>({});

  const hasValidSeedPhrase = computed(() => seedPhrase.value.trim().length > 0);

  async function generateAddresses(indices: Record<string, number> = {}) {
    if (!hasValidSeedPhrase.value) {
      throw new Error('No seed phrase available');
    }

    isGenerating.value = true;
    try {
      const generated = await generateAddressesFromMnemonic(seedPhrase.value, indices);
      addresses.value = generated;
      
      // Update derivation indices
      const updatedIndices: Record<string, number> = {};
      generated.forEach(addr => {
        const segments = addr.derivationPath.split('/');
        // ... extract index logic (same as React)
        updatedIndices[addr.currency] = extractedIndex;
      });
      derivationIndices.value = updatedIndices;
    } finally {
      isGenerating.value = false;
    }
  }

  function setSeedPhrase(phrase: string) {
    seedPhrase.value = phrase;
  }

  return {
    seedPhrase,
    addresses,
    isGenerating,
    derivationIndices,
    hasValidSeedPhrase,
    generateAddresses,
    setSeedPhrase
  };
});
```

**Usage in components:**
```vue
<script setup lang="ts">
import { useCryptoStore } from '@/stores/crypto';

const cryptoStore = useCryptoStore();

// Access state
const { seedPhrase, addresses, isGenerating } = storeToRefs(cryptoStore);

// Call actions
const handleGenerate = () => {
  cryptoStore.generateAddresses();
};
</script>
```

---

## 6. Component Migration Map

### Page-Level Components

| React Component | Lines | Vue Equivalent | Migration Complexity |
|----------------|-------|----------------|----------------------|
| `pages/Index.tsx` | 216 | `views/IndexView.vue` | **Medium** - Main orchestration logic |
| `pages/NotFound.tsx` | ~20 | `views/NotFoundView.vue` | **Low** - Simple component |

### Feature Components

| React Component | Lines | Vue Equivalent | Migration Complexity |
|----------------|-------|----------------|----------------------|
| `SeedPhraseGenerator.tsx` | 433 | `SeedPhraseGenerator.vue` | **High** - Complex state, multiple modals |
| `AddressDisplay.tsx` | 630 | `AddressDisplay.vue` | **High** - Export logic, derivation management |

### Modal Components

| React Component | Lines | Vue Equivalent | Migration Complexity |
|----------------|-------|----------------|----------------------|
| `ChecksumModal.tsx` | 679 | `ChecksumModal.vue` | **High** - Complex validation logic |
| `AdvancedModal.tsx` | ~200 | `AdvancedModal.vue` | **Medium** - Mnemonic expansion methods |
| `DerivationPathDiveModal.tsx` | 190 | `DerivationPathDiveModal.vue` | **Medium** - PIN hashing logic |
| `PrivateKeyToMnemonicModal.tsx` | 624 | `PrivateKeyToMnemonicModal.vue` | **High** - File parsing, async operations |
| `FileEncryptionModal.tsx` | 342 | `FileEncryptionModal.vue` | **Medium** - File handling |

### UI Components (45 files)

All components in `components/ui/` need to be replaced with Vue UI library equivalents or migrated individually.

**Recommendation:** Use **Radix Vue** for near 1:1 migration.

---

## 7. Critical Utilities & Functions

### Framework-Agnostic Utilities (No Migration Needed)

These files are pure TypeScript with no React dependencies. **Keep as-is**:

#### Cryptography Core

1. **`utils/cryptoGenerator.ts`** (252 lines)
   - Main crypto generation logic
   - Generates addresses for all 8 currencies
   - HD derivation path calculations
   - Deterministic GPG key generation

2. **`utils/deterministicGPG.ts`**
   - Deterministic GPG keypair generation
   - Custom PRNG implementation
   - OpenPGP key generation

3. **`utils/gpgFrom.rootExtendedPrivateKey.ts`**
   - BIP32 root key extraction
   - Root GPG key generation
   - Extended key derivation

#### Export Utilities

**All files in `exportStandard/currencies/`** are pure TypeScript:

1. **Text Exports**
   - `filenameStructureAndContent.seed.text.ts`
   - `filenameStructureAndContent.individual.text.ts`
   - `filenameStructureAndContent.walletAddresses.text.ts`

2. **Visual Exports** (Canvas-based)
   - `filenameStructureAndContent.seed.visual.ts`
   - `filenameStructureAndContent.individual.visual.ts`
   - `filenameStructureAndContent.walletAddresses.visual.ts`

3. **Index** (Re-exports)
   - `index.ts`

#### Import Utilities

1. **`importStandard/fileImports.seed.ts`**
   - File parsing (JSON, CSV, TXT)
   - Seed phrase extraction

### React-Specific Utilities (Need Migration)

These use React hooks and need Vue equivalents:

1. **`hooks/use-toast.ts`** â†’ **`composables/useToast.ts`**
   - Toast notification system
   - Reducer pattern (can use Vue reactivity)

2. **`hooks/use-mobile.tsx`** â†’ **`composables/useMobile.ts`**
   - Mobile detection via media query
   - Simple conversion to Vue composable

---

## 8. Build Configuration

### Current Vite Config (React)

**`vite.config.ts`:**
```typescript
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react-swc";
import { nodePolyfills } from "vite-plugin-node-polyfills";
import wasm from "vite-plugin-wasm";

export default defineConfig({
  plugins: [
    wasm(),
    react(),
    nodePolyfills({
      include: ["buffer", "crypto", "stream", "util"],
      globals: { Buffer: true, global: true, process: true }
    })
  ],
  resolve: {
    alias: { "@": path.resolve(__dirname, "./src") }
  },
  build: { target: "esnext" },
  optimizeDeps: {
    esbuildOptions: { target: "esnext", define: { global: "window" } },
    exclude: ["@skunkteam/aes-siv"]
  },
  define: { 'global': 'globalThis', 'module.exports': '{}' }
});
```

### Required Vue Vite Config

**`vite.config.ts`:**
```typescript
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";  // Changed from react
import { nodePolyfills } from "vite-plugin-node-polyfills";
import wasm from "vite-plugin-wasm";
import path from "path";

export default defineConfig({
  server: {
    host: "::",
    port: 8080,
  },
  plugins: [
    wasm(),
    vue(),  // Changed from react()
    nodePolyfills({
      include: ["buffer", "crypto", "stream", "util"],
      globals: { Buffer: true, global: true, process: true }
    })
  ],
  resolve: {
    alias: { "@": path.resolve(__dirname, "./src") }
  },
  build: { target: "esnext" },
  optimizeDeps: {
    esbuildOptions: { target: "esnext", define: { global: "window" } },
    exclude: ["@skunkteam/aes-siv"]
  },
  define: { 'global': 'globalThis', 'module.exports': '{}' }
});
```

**Key Points:**
- âœ… **Keep**: `vite-plugin-node-polyfills` (required for crypto libraries)
- âœ… **Keep**: `vite-plugin-wasm` (required for WebAssembly modules)
- âœ… **Keep**: All `nodePolyfills` settings (Buffer, crypto, stream, util)
- âœ… **Keep**: Path alias `@` â†’ `./src`
- âš ï¸ **Change**: Replace `@vitejs/plugin-react-swc` with `@vitejs/plugin-vue`

---

## 9. Migration Strategy

### Phase 1: Setup & Infrastructure (1-2 days)

**Goal:** Set up Vue project with same build configuration

1. **Create Vue project**
   ```bash
   npm create vite@latest keyforge-vue -- --template vue-ts
   cd keyforge-vue
   ```

2. **Install core dependencies**
   ```bash
   # Vue ecosystem
   npm install vue-router@4 pinia

   # Crypto libraries (same as React version)
   npm install bip32 bip39 bitcoinjs-lib ethers @solana/web3.js openpgp

   # Export/import utilities (same)
   npm install qrcode jspdf html2canvas

   # Utilities (same)
   npm install date-fns zod clsx tailwind-merge

   # Build tools
   npm install vite-plugin-node-polyfills vite-plugin-wasm

   # UI library (choose one)
   npm install radix-vue  # Recommended
   ```

3. **Configure Vite**
   - Copy `vite.config.ts` settings
   - Replace React plugin with Vue plugin
   - Keep all nodePolyfills and WASM settings

4. **Set up Tailwind CSS**
   ```bash
   npm install -D tailwindcss postcss autoprefixer
   npx tailwindcss init -p
   ```

   Copy `tailwind.config.ts` from React version.

### Phase 2: Copy Pure TypeScript Files (1 day)

**Goal:** Copy all framework-agnostic code

1. **Copy entire directories as-is:**
   ```bash
   cp -r src/utils/ keyforge-vue/src/
   cp -r src/exportStandard/ keyforge-vue/src/
   cp -r src/importStandard/ keyforge-vue/src/
   cp -r public/ keyforge-vue/
   ```

2. **Create type definitions:**
   ```bash
   mkdir keyforge-vue/src/types
   ```

   Extract interfaces from React components into `types/crypto.ts`:
   ```typescript
   export interface CryptoAddress {
     currency: string;
     address: string;
     privateKey: string;
     cryptoPublicKey: string;
     keyFingerprint: string;
     gpgPublicKey: string;
     gpgPrivateKey: string;
     derivationPath: string;
   }

   export interface GeneralAddress {
     currency: string;
     address: string;
     derivationPath: string;
     keyFingerprint: string;
   }

   export interface ExportCryptoAddress extends CryptoAddress {
     mnemonic?: string;
   }
   ```

### Phase 3: Convert Composables (1-2 days)

**Goal:** Convert React hooks to Vue composables

1. **Convert `use-toast.ts`**

   **React version:**
   ```typescript
   const { toast } = useToast();
   toast({ title: "Success", description: "..." });
   ```

   **Vue composable:**
   ```typescript
   // composables/useToast.ts
   import { ref } from 'vue';

   interface Toast {
     id: string;
     title: string;
     description?: string;
     variant?: 'default' | 'destructive';
   }

   const toasts = ref<Toast[]>([]);

   export function useToast() {
     const toast = (options: Omit<Toast, 'id'>) => {
       const id = Math.random().toString(36).slice(2);
       toasts.value.push({ id, ...options });
       
       setTimeout(() => {
         toasts.value = toasts.value.filter(t => t.id !== id);
       }, 5000);
     };

     return { toast, toasts };
   }
   ```

2. **Convert `use-mobile.tsx`**

   **Vue composable:**
   ```typescript
   // composables/useMobile.ts
   import { ref, onMounted, onUnmounted } from 'vue';

   export function useMobile() {
     const isMobile = ref(false);

     const checkMobile = () => {
       isMobile.value = window.innerWidth < 768;
     };

     onMounted(() => {
       checkMobile();
       window.addEventListener('resize', checkMobile);
     });

     onUnmounted(() => {
       window.removeEventListener('resize', checkMobile);
     });

     return { isMobile };
   }
   ```

### Phase 4: Convert UI Components (2-3 days)

**Goal:** Replace or convert shadcn-ui components

**Option A: Use Radix Vue (Recommended)**

Radix Vue has near 1:1 API parity. Example:

**React:**
```typescript
import { Dialog, DialogContent, DialogHeader } from "@/components/ui/dialog";
```

**Vue:**
```vue
<script setup lang="ts">
import {
  DialogRoot,
  DialogTrigger,
  DialogPortal,
  DialogOverlay,
  DialogContent,
  DialogTitle,
  DialogDescription
} from 'radix-vue';
</script>

<template>
  <DialogRoot v-model:open="isOpen">
    <DialogPortal>
      <DialogOverlay />
      <DialogContent>
        <DialogTitle>{{ title }}</DialogTitle>
        <DialogDescription>{{ description }}</DialogDescription>
        <!-- Content -->
      </DialogContent>
    </DialogPortal>
  </DialogRoot>
</template>
```

**Option B: Convert shadcn-ui components to Vue**

Create Vue SFC versions of each shadcn component. This is more work but gives you full control.

### Phase 5: Convert Feature Components (5-7 days)

**Priority order (highest impact first):**

1. **`SeedPhraseGenerator.vue`** (1-2 days)
   - Core seed generation logic
   - Multiple modal integrations
   - GPG fingerprint display
   - Export functionality

2. **`AddressDisplay.vue`** (2 days)
   - Address display grid
   - Export buttons
   - Derivation index management
   - Copy to clipboard functionality

3. **Modal Components** (2-3 days)
   - `ChecksumModal.vue`
   - `AdvancedModal.vue`
   - `DerivationPathDiveModal.vue`
   - `PrivateKeyToMnemonicModal.vue`
   - `FileEncryptionModal.vue`

4. **Main View** (1 day)
   - `IndexView.vue`
   - State orchestration
   - Component integration

### Phase 6: Testing & Refinement (2-3 days)

1. **Functional testing**
   - Seed phrase generation
   - Address derivation
   - Export functionality (all formats)
   - Import functionality
   - Modal interactions

2. **Cryptographic validation**
   - Verify BIP39 compliance
   - Verify BIP32/BIP44 derivation
   - Verify GPG key determinism
   - Test with known test vectors

3. **Cross-browser testing**
   - Chrome, Firefox, Safari, Edge
   - Test crypto.subtle API availability
   - Test WASM loading

---

## 10. Integration Patterns

### Scenario A: Standalone Vue Migration

**Use Case:** Complete rewrite as a standalone Vue app

**Approach:**
- Follow all phases in Migration Strategy
- Deploy as separate Vue application
- Share assets directory with original React app (if needed)

### Scenario B: Micro-Frontend Integration

**Use Case:** Embed keyForge into a larger Vue application

**Approach:**

1. **Create a scoped plugin**

   ```typescript
   // plugins/keyforge.ts
   import { App } from 'vue';
   import KeyForgeView from '@/keyforge/views/IndexView.vue';

   export default {
     install(app: App) {
       app.component('KeyForge', KeyForgeView);
     }
   };
   ```

2. **Register in main Vue app**

   ```typescript
   // main.ts
   import { createApp } from 'vue';
   import App from './App.vue';
   import KeyForgePlugin from './plugins/keyforge';

   const app = createApp(App);
   app.use(KeyForgePlugin);
   app.mount('#app');
   ```

3. **Use in parent app**

   ```vue
   <template>
     <div>
       <h1>My Crypto Dashboard</h1>
       <KeyForge />
     </div>
   </template>
   ```

### Scenario C: Web Component Wrapper

**Use Case:** Framework-agnostic integration

**Approach:**

1. **Build keyForge as a Vue web component**

   ```typescript
   // main.ts
   import { defineCustomElement } from 'vue';
   import KeyForge from './App.ce.vue';

   const KeyForgeElement = defineCustomElement(KeyForge);
   customElements.define('key-forge', KeyForgeElement);
   ```

2. **Use in any HTML/JS context**

   ```html
   <!-- In any HTML file -->
   <script src="keyforge-web-component.js"></script>
   <key-forge></key-forge>
   ```

### Scenario D: Hybrid React + Vue

**Use Case:** Gradual migration, run both frameworks side-by-side

**Approach:**

1. **Use iframe embedding**

   ```vue
   <!-- In Vue app -->
   <template>
     <iframe 
       src="/keyforge-react/" 
       style="width: 100%; height: 100vh; border: none;"
     />
   </template>
   ```

2. **Use module federation (Webpack 5 / Vite)**

   Share dependencies and communicate via events.

---

## 11. Testing Considerations

### Critical Test Vectors

**Test with known BIP39 vectors:**

```typescript
// Test vectors from BIP39 specification
const testVectors = [
  {
    mnemonic: "abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about",
    seed: "c55257c360c07c72029aebc1b53c05ed0362ada38ead3e3e9efa3708e53495531f09a6987599d18264c1e1c92f2cf141630c7a3c4ab7c81b2f001698e7463b04",
    addresses: {
      BTC: "1AvKsVeBLfxvKm4nWxcx8nC1KwkT7XZwZ",
      ETH: "0x9858EfFD232B4033E47d90003D41EC34EcaEda94"
      // ... other expected addresses
    }
  }
];
```

### Determinism Tests

**Verify deterministic GPG generation:**

```typescript
// Generate same seed twice, verify identical GPG keys
const seed1 = "test seed phrase";
const gpg1 = await generateGPGFromRootExtendedPrivateKey(seed1);

const seed2 = "test seed phrase";
const gpg2 = await generateGPGFromRootExtendedPrivateKey(seed2);

assert(gpg1.fingerprint === gpg2.fingerprint);
assert(gpg1.publicKey === gpg2.publicKey);
assert(gpg1.privateKey === gpg2.privateKey);
```

### Export/Import Round-Trip Tests

**Verify data integrity:**

```typescript
// Export seed phrase as JSON
const exported = await exportSeedAsJSON(seedPhrase);

// Re-import
const imported = await importSeedFromJSON(exported);

// Verify identical
assert(imported.mnemonicSeedPhrase === seedPhrase);
assert(imported.bip32RootGPGKeyFingerprint === originalFingerprint);
```

---

## 12. Security & Cryptography Notes

### Critical Security Requirements

1. **Never send private keys or seed phrases over network**
   - All crypto operations run client-side
   - No API calls for key generation

2. **Secure random number generation**
   - Uses `crypto.getRandomValues()` (Web Crypto API)
   - Falls back to `window.crypto.subtle` if needed

3. **Deterministic GPG generation**
   - Custom PRNG seeded with private key
   - Ensures reproducible keys from same seed

4. **Sensitive data handling**
   - Clear clipboard after copy operations
   - Warn users about exporting private keys
   - Recommend encrypted storage for exports

### Browser Compatibility

**Required APIs:**
- âœ… **Web Crypto API** (`crypto.subtle`)
- âœ… **Canvas API** (for QR code rendering)
- âœ… **File API** (for import/export)
- âœ… **IndexedDB** (optional, for future caching)
- âœ… **WebAssembly** (for `openpgp` WASM modules)

**Minimum browser versions:**
- Chrome 60+
- Firefox 57+
- Safari 11+
- Edge 79+

### Node.js Polyfills

**Critical polyfills required:**

```typescript
// vite.config.ts
nodePolyfills({
  include: [
    "buffer",  // Required by bitcoinjs-lib, ethers
    "crypto",  // Required for crypto operations
    "stream",  // Required by openpgp
    "util"     // Required by various crypto libs
  ],
  globals: {
    Buffer: true,    // Global Buffer object
    global: true,    // Global `global` reference
    process: true    // Process env variables
  }
})
```

**Why needed:**
- Cryptocurrency libraries (bip32, bip39, bitcoinjs-lib) expect Node.js APIs
- OpenPGP uses Node.js streams
- ethers.js expects Buffer global

---

## 13. File-by-File Migration Checklist

### High Priority (Core Functionality)

- [ ] **`utils/cryptoGenerator.ts`** - No changes needed âœ…
- [ ] **`utils/deterministicGPG.ts`** - No changes needed âœ…
- [ ] **`utils/gpgFrom.rootExtendedPrivateKey.ts`** - No changes needed âœ…
- [ ] **`exportStandard/currencies/*.ts`** (7 files) - No changes needed âœ…
- [ ] **`importStandard/fileImports.seed.ts`** - No changes needed âœ…
- [ ] **`hooks/use-toast.ts`** â†’ `composables/useToast.ts` âš ï¸
- [ ] **`hooks/use-mobile.tsx`** â†’ `composables/useMobile.ts` âš ï¸
- [ ] **`pages/Index.tsx`** â†’ `views/IndexView.vue` âš ï¸
- [ ] **`components/SeedPhraseGenerator.tsx`** â†’ `SeedPhraseGenerator.vue` âš ï¸
- [ ] **`components/AddressDisplay.tsx`** â†’ `AddressDisplay.vue` âš ï¸

### Medium Priority (Modals)

- [ ] **`modals/ChecksumModal.tsx`** â†’ `ChecksumModal.vue` âš ï¸
- [ ] **`modals/AdvancedModal.tsx`** â†’ `AdvancedModal.vue` âš ï¸
- [ ] **`modals/DerivationPathDiveModal.tsx`** â†’ `DerivationPathDiveModal.vue` âš ï¸
- [ ] **`modals/PrivateKeyToMnemonicModal.tsx`** â†’ `PrivateKeyToMnemonicModal.vue` âš ï¸
- [ ] **`modals/FileEncryptionModal.tsx`** â†’ `FileEncryptionModal.vue` âš ï¸

### Low Priority (UI Components)

- [ ] **`components/ui/*.tsx`** (45 files) â†’ Use Radix Vue or convert individually âš ï¸

**Legend:**
- âœ… = No changes needed (pure TypeScript)
- âš ï¸ = Needs conversion (React-specific)

---

## 14. Common Pitfalls & Solutions

### Pitfall 1: Async Component Methods

**React Pattern:**
```typescript
const handleGenerate = async () => {
  setIsLoading(true);
  const result = await generateAddresses(seedPhrase);
  setAddresses(result);
  setIsLoading(false);
};
```

**Vue Pattern:**
```vue
<script setup lang="ts">
const isLoading = ref(false);
const addresses = ref([]);

const handleGenerate = async () => {
  isLoading.value = true;
  try {
    const result = await generateAddresses(seedPhrase.value);
    addresses.value = result;
  } finally {
    isLoading.value = false;
  }
};
</script>
```

**Key Difference:** Vue requires `.value` for refs in `<script setup>`.

### Pitfall 2: Event Handling

**React:**
```typescript
<Button onClick={handleClick}>Click Me</Button>
```

**Vue:**
```vue
<Button @click="handleClick">Click Me</Button>
```

**Key Difference:** Vue uses `@` instead of `on`.

### Pitfall 3: Conditional Rendering

**React:**
```typescript
{isVisible && <div>Content</div>}
```

**Vue:**
```vue
<div v-if="isVisible">Content</div>
```

**Key Difference:** Vue uses directives (`v-if`, `v-show`).

### Pitfall 4: List Rendering

**React:**
```typescript
{items.map(item => <div key={item.id}>{item.name}</div>)}
```

**Vue:**
```vue
<div v-for="item in items" :key="item.id">
  {{ item.name }}
</div>
```

**Key Difference:** Vue uses `v-for` directive.

### Pitfall 5: Props & Events

**React:**
```typescript
interface Props {
  value: string;
  onChange: (value: string) => void;
}

<Component value={value} onChange={handleChange} />
```

**Vue:**
```vue
<!-- Define props -->
<script setup lang="ts">
interface Props {
  modelValue: string;
}

const props = defineProps<Props>();
const emit = defineEmits<{
  'update:modelValue': [value: string];
}>();
</script>

<!-- Use with v-model -->
<Component v-model="value" />
```

**Key Difference:** Vue uses `v-model` for two-way binding.

---

## 15. Performance Optimization Tips

### 1. Lazy Load Heavy Dependencies

**Crypto libraries are large; load on-demand:**

```typescript
// Don't import at top level
// import * as bip39 from 'bip39';  âŒ

// Import dynamically when needed
const generateSeed = async () => {
  const bip39 = await import('bip39');  // âœ…
  return bip39.generateMnemonic();
};
```

### 2. Memoize Expensive Computations

**Vue:**
```vue
<script setup lang="ts">
import { computed } from 'vue';

const derivedAddresses = computed(() => {
  // Expensive computation runs only when dependencies change
  return addresses.value.map(addr => ({
    ...addr,
    formatted: formatAddress(addr.address)
  }));
});
</script>
```

### 3. Virtual Scrolling for Long Lists

If displaying many addresses, use virtual scrolling:

```bash
npm install vue-virtual-scroller
```

### 4. Web Workers for Heavy Crypto

For GPG key generation, consider using Web Workers:

```typescript
// crypto.worker.ts
import { generateDeterministicGPGKey } from '@/utils/deterministicGPG';

self.onmessage = async (e) => {
  const { privateKey, currency } = e.data;
  const result = await generateDeterministicGPGKey(privateKey, currency);
  self.postMessage(result);
};
```

---

## 16. Deployment Considerations

### Build Output

**Vite produces optimized bundles:**

```bash
npm run build
# Output: dist/
```

**Expected bundle sizes:**
- Main JS: ~1.5MB (crypto libraries are heavy)
- Vendor chunk: ~800KB
- CSS: ~50KB
- Assets: 170+ SVG icons (~2MB total)

**Optimization:**
- Enable compression (gzip/brotli)
- Use CDN for static assets
- Consider code splitting for modals

### Environment Variables

**No sensitive data in environment variables!**

```bash
# .env (safe for client-side)
VITE_APP_NAME=keyForge
VITE_VERSION=1.0.0
```

**Access in Vue:**
```typescript
const appName = import.meta.env.VITE_APP_NAME;
```

### CSP (Content Security Policy)

**Required for WASM and crypto:**

```http
Content-Security-Policy: 
  default-src 'self'; 
  script-src 'self' 'wasm-unsafe-eval'; 
  worker-src 'self' blob:;
  img-src 'self' data: blob:;
```

---

## 17. Documentation & Resources

### Official Documentation

- **Vue 3:** https://vuejs.org/
- **Vite:** https://vitejs.dev/
- **Pinia:** https://pinia.vuejs.org/
- **Vue Router:** https://router.vuejs.org/
- **Radix Vue:** https://www.radix-vue.com/

### Crypto Libraries

- **BIP39:** https://github.com/bitcoinjs/bip39
- **BIP32:** https://github.com/bitcoinjs/bip32
- **bitcoinjs-lib:** https://github.com/bitcoinjs/bitcoinjs-lib
- **ethers.js:** https://docs.ethers.org/
- **OpenPGP.js:** https://openpgpjs.org/

### Migration Guides

- **React to Vue:** https://v3.vuejs.org/guide/migration/introduction.html
- **Radix UI to Radix Vue:** https://www.radix-vue.com/overview/getting-started.html

---

## 18. Support & Maintenance

### For Human Developers

**Questions? Issues?**
1. Check this guide first
2. Review progress reports in `docs/progress/`
3. Search codebase for similar patterns
4. Test with known BIP39 test vectors

### For AI/LLM Assistants

**When assisting with migration:**

1. **Preserve crypto logic exactly**
   - Never modify `utils/cryptoGenerator.ts`
   - Never change deterministic GPG generation
   - Never alter export filename structures

2. **Maintain type safety**
   - All components should be fully typed
   - No `any` types
   - Use TypeScript strict mode

3. **Follow Vue best practices**
   - Use Composition API (not Options API)
   - Use `<script setup>` syntax
   - Prefer `ref()` for primitives, `reactive()` for objects

4. **Test crypto operations**
   - Always verify with test vectors
   - Check determinism (same input = same output)
   - Validate BIP39/BIP32 compliance

---

## 19. Glossary

**Key Terms:**

- **BIP32:** Bitcoin Improvement Proposal 32 - Hierarchical Deterministic Wallets
- **BIP39:** Bitcoin Improvement Proposal 39 - Mnemonic Code for Generating Deterministic Keys
- **BIP44:** Bitcoin Improvement Proposal 44 - Multi-Account Hierarchy for Deterministic Wallets
- **HD Wallet:** Hierarchical Deterministic Wallet - generates keys from a single seed
- **Derivation Path:** Path used to derive child keys (e.g., `m/44'/0'/0'/0/0`)
- **xprv:** Extended Private Key
- **xpub:** Extended Public Key
- **Mnemonic:** 12 or 24 word seed phrase (BIP39)
- **Seed:** Binary representation of mnemonic
- **GPG:** GNU Privacy Guard - OpenPGP implementation
- **Deterministic:** Same input always produces same output

---

## 20. Final Checklist

Before considering migration complete:

### Functionality
- [ ] Seed phrase generation works (12 & 24 words)
- [ ] Seed phrase validation works (checksum)
- [ ] Address generation works for all 8 currencies
- [ ] Derivation path customization works (0-999,999)
- [ ] GPG key generation works (deterministic)
- [ ] BIP32 Root GPG fingerprint displays correctly
- [ ] All export formats work (JSON, CSV, TXT, PNG, PDF)
- [ ] PDF text is selectable
- [ ] All import formats work
- [ ] Private key to mnemonic conversion works
- [ ] Mnemonic expansion works (12 â†’ 24)
- [ ] Derivation Path Dive works (PIN-based)

### Quality
- [ ] Zero TypeScript errors
- [ ] Zero linter warnings
- [ ] All components are typed
- [ ] Test vectors pass
- [ ] Determinism verified
- [ ] Cross-browser tested
- [ ] Mobile responsive

### Security
- [ ] No private keys in console logs
- [ ] No network requests with sensitive data
- [ ] Proper warnings about private key exports
- [ ] Secure random number generation verified
- [ ] CSP headers configured

### Documentation
- [ ] README updated
- [ ] Component documentation added
- [ ] API documentation created
- [ ] Migration notes documented

---

## Conclusion

This guide provides a comprehensive roadmap for migrating keyForge from React to Vue.js or integrating it into a larger Vue application. The modular architecture of keyForge makes migration straightforward:

**âœ… 60% of code needs no changes** (pure TypeScript utilities)  
**âš ï¸ 40% needs conversion** (React components to Vue)

**Estimated Migration Time:** 2-3 weeks for a complete rewrite

**Key Success Factors:**
1. Keep all crypto utilities unchanged
2. Use Radix Vue for near 1:1 UI component migration
3. Test thoroughly with BIP39 test vectors
4. Maintain deterministic behavior for all crypto operations

Good luck with your migration! ğŸš€

---

**Document Version:** 1.0.0  
**Last Updated:** December 28, 2025  
**Maintained By:** keyForge Development Team



