# Dev Tools Enabled by Default - October 21, 2025

## Issue
Dev tools were not opening automatically when the application started, making debugging difficult.

## Root Cause
- Timing issues with dev tools opening before window was fully initialized
- Race conditions between page load events
- Dev tools settings not being aggressive enough

## Solution Implemented

### 1. Aggressive Dev Tools Opening Strategy
Implemented multiple attempts to open dev tools using various strategies:

```typescript
// Immediate attempt on window creation
win.webContents.openDevTools({ mode: 'detach', activate: true })

// Continuous retry every 500ms for 10 seconds
const devToolsInterval = setInterval(() => {
  if (!win.webContents.isDevToolsOpened()) {
    win.webContents.openDevTools({ mode: 'detach', activate: true })
  }
}, 500)
```

### 2. Multiple Event Listeners
Dev tools now attempt to open on multiple events:
- Immediately after window creation
- `dom-ready` event
- `did-finish-load` event
- Continuous polling until successful

### 3. Window Configuration Updates
- Set `devTools: true` in webPreferences
- Changed window to `show: true` for immediate display
- Increased window size to 1400x900 to accommodate dev tools
- Enabled menu bar for easier access to dev tools menu

### 4. Debugging Output
Added comprehensive console logging:
- ✓ Page finished loading, opening dev tools...
- ⚡ Forcing dev tools open (continuous attempt)...
- ✓✓✓ SUCCESS: Dev tools are OPEN! ✓✓✓
- ❌ FAILED to open dev tools (if all attempts fail)

## Changes Made

### Files Modified:
1. `/background/main/index.ts`
   - Added aggressive dev tools opening logic
   - Multiple event listeners for reliability
   - Continuous polling with 500ms interval
   - Console logging for debugging
   - Window configuration updates

2. `/background/preload/index.ts`
   - Added `devTools` API exposure
   - IPC handlers for dev tools control

3. `/background/functions/utils/electron/appMenu.js`
   - Added dev tools menu items for production builds
   - Keyboard shortcuts (F12, Ctrl+Shift+I)

4. `/src/composables/useDevTools.ts` (new file)
   - Vue composable for dev tools control
   - Programmatic API for opening/closing/toggling

5. `/vite.config.ts`
   - Added startup logging

6. `/package.json`
   - Added `dev:debug` and `build:debug` scripts

## How to Use

### Development Mode (Auto-opens)
```bash
npm run dev
```
Dev tools will open automatically in detached mode.

### Keyboard Shortcuts
- **F12** - Toggle dev tools
- **Ctrl+Shift+I** (Windows/Linux)
- **Cmd+Option+I** (macOS)

### Menu Access
View → Toggle Developer Tools

### Programmatic Control (from Vue components)
```typescript
import { useDevTools } from '@/composables/useDevTools'

const { toggleDevTools, openDevTools, closeDevTools } = useDevTools()
```

## Technical Details

### Opening Modes Tried (in order):
1. `detach` mode with `activate: true` (default)
2. `right` docked mode (fallback after 10 seconds)

### Retry Strategy:
- Immediate attempt on window creation
- Every 500ms for 10 seconds (20 attempts)
- Final fallback with different mode

### Success Criteria:
Dev tools considered successfully open when `win.webContents.isDevToolsOpened()` returns `true`.

## Testing
1. Run `npm run dev`
2. Watch console output for success messages
3. Dev tools window should appear automatically
4. If not, press F12 to toggle

## Notes
- Dev tools open in **detached mode** by default (separate window)
- Window is now 1400x900 to provide more space
- Menu bar is visible for easier access to dev tools
- All attempts are logged to console for debugging

