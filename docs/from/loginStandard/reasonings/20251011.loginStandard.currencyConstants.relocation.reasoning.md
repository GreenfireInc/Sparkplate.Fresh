# 20251011.loginStandard.currencyConstants.relocation.reasoning.md

## Architectural Reasoning: Currency Constants Relocation to currencyData.ts

**Date:** 2025-10-11
**Decision:** Move `SupportedTicker`, `NETWORKS`, and `PROTOCOL_PREFIXES` to `currencyData.ts`
**Impact:** Medium - Improves organization, low risk due to limited usage
**Files Affected:** 2 files (source + destination)

---

## üéØ **Decision Context**

### **The Question:**
Should the currency constants (`SupportedTicker`, `NETWORKS`, `PROTOCOL_PREFIXES`) be moved from `TemporaryKeyModal.tsx` to `currencyData.ts`?

### **Current Location:**
```tsx
// src/components/accessControl/authentication/loginStandard/options/TemporaryKeyModal.tsx
type SupportedTicker = /* "ADA" | */ "ALGO" | "ATOM" | ...;
const NETWORKS: Array<{ ticker: SupportedTicker; label: string; icon: string }> = [...];
const PROTOCOL_PREFIXES: Record<SupportedTicker, string> = {...};
```

### **Proposed Location:**
```tsx
// src/components/currencies/currencyData.ts
export type SupportedTicker = /* "ADA" | */ "ALGO" | "ATOM" | ...;
export const NETWORKS: Array<{ ticker: SupportedTicker; label: string; icon: string }> = [...];
export const PROTOCOL_PREFIXES: Record<SupportedTicker, string> = {...};
```

---

## üèóÔ∏è **Architectural Analysis**

### **Why These Constants Belong in currencyData.ts**

#### **1. Logical Cohesion**
- **currencyData.ts Purpose**: Central repository for currency-related types and data structures
- **Constants Nature**: These define supported currencies and their configurations
- **Domain Alignment**: Currency constants belong with other currency domain objects

#### **2. Current File Analysis**
- **TemporaryKeyModal.tsx Role**: UI component for temporary private key operations
- **Constants Usage**: Pure data/configuration, not UI-specific logic
- **Separation Violation**: Configuration data mixed with component logic

#### **3. Usage Pattern Assessment**
- **SupportedTicker**: Type definition for currency tickers
- **NETWORKS**: Static configuration data for network display
- **PROTOCOL_PREFIXES**: Static mapping data for address formatting
- **All Used Only In**: TemporaryKeyModal.tsx (single file usage)

---

## üìä **Constants Detailed Analysis**

### **A. SupportedTicker Type**
```tsx
type SupportedTicker = /* "ADA" | */ "ALGO" | "ATOM" | "BCH" | "BNB" | "BTC" | "DOGE" | "DOT" | "ETC" | "ETH" | "LTC" | "LUNA" | "LUNC" | "SOL" | "STX" | "TRX" | "WAVES" | "XLM" | "XRP" | "XTZ";
```

**Characteristics:**
- ‚úÖ **Currency Domain**: Defines supported cryptocurrency identifiers
- ‚úÖ **Type Definition**: TypeScript union type for type safety
- ‚úÖ **Widely Applicable**: Could be used by any currency-related component
- ‚úÖ **Stable Data**: Rarely changes (only when adding new currencies)

### **B. NETWORKS Configuration Array**
```tsx
const NETWORKS: Array<{ ticker: SupportedTicker; label: string; icon: string }> = [
  { ticker: "BTC", label: "BTC://", icon: "/assets/icons/crypto/btc.svg" },
  { ticker: "ETH", label: "ETH://", icon: "/assets/icons/crypto/eth.svg" },
  // ... 20+ network definitions
];
```

**Characteristics:**
- ‚úÖ **Currency Metadata**: Display information for each supported currency
- ‚úÖ **UI-Independent**: Could be used by any component showing network lists
- ‚úÖ **Static Data**: Configuration that rarely changes
- ‚úÖ **Structured Format**: Consistent object structure for all networks

### **C. PROTOCOL_PREFIXES Mapping**
```tsx
const PROTOCOL_PREFIXES: Record<SupportedTicker, string> = {
  BTC: "BTC://",
  ETH: "ETH://",
  // ... protocol mappings for all supported currencies
};
```

**Characteristics:**
- ‚úÖ **Currency Utility**: Protocol prefixes for address formatting
- ‚úÖ **Address-Related**: Used in address display and formatting logic
- ‚úÖ **Pure Data**: Simple key-value mapping, no logic
- ‚úÖ **Consistent Pattern**: Standardized protocol format across currencies

---

## üìã **Migration Feasibility Assessment**

### **‚úÖ HIGHLY FEASIBLE - Recommended**

#### **Technical Feasibility**
- **Usage Scope**: All constants used only in TemporaryKeyModal.tsx
- **Import Updates**: Single file requires import updates
- **No Breaking Changes**: Exported constants maintain same interface
- **Type Safety**: TypeScript will catch any usage issues

#### **Architectural Benefits**
- **Proper Organization**: Currency constants belong with currency data
- **Discoverability**: All currency-related types/data in one location
- **Maintainability**: Currency changes centralized in currencies folder
- **Future-Proofing**: Easier to add new currencies and configurations

#### **Implementation Simplicity**
- **Low Risk**: Simple constant relocation
- **Minimal Changes**: One import statement update
- **No Logic Changes**: Pure data movement
- **Easy Rollback**: Can be reverted if issues arise

---

## üîÑ **Proposed Implementation**

### **Step 1: Move Constants to currencyData.ts**
```tsx
// src/components/currencies/currencyData.ts

// Add to existing exports
export type SupportedTicker = /* "ADA" | */ "ALGO" | "ATOM" | "BCH" | "BNB" | "BTC" | "DOGE" | "DOT" | "ETC" | "ETH" | "LTC" | "LUNA" | "LUNC" | "SOL" | "STX" | "TRX" | "WAVES" | "XLM" | "XRP" | "XTZ";

export const NETWORKS: Array<{ ticker: SupportedTicker; label: string; icon: string }> = [
  // { ticker: "ADA", label: "ADA://", icon: "/assets/icons/crypto/ada.svg" }, // DISABLED
  { ticker: "ALGO", label: "ALGO://", icon: "/assets/icons/crypto/algo.svg" },
  // ... rest of networks array
];

export const PROTOCOL_PREFIXES: Record<SupportedTicker, string> = {
  // ADA: "ADA://", // DISABLED
  ALGO: "ALGO://",
  // ... rest of protocol mappings
};
```

### **Step 2: Update TemporaryKeyModal.tsx Imports**
```tsx
// Before
type SupportedTicker = /* ... */;
const NETWORKS = [/* ... */];
const PROTOCOL_PREFIXES = {/* ... */};

// After
import { SupportedTicker, NETWORKS, PROTOCOL_PREFIXES } from '@/components/currencies/currencyData';
```

### **Step 3: Remove Old Definitions**
Delete the original constant definitions from TemporaryKeyModal.tsx.

---

## üìà **Expected Benefits**

### **Immediate Benefits**
- **Better Organization**: Currency constants co-located with other currency data
- **Cleaner Component**: TemporaryKeyModal focuses on UI logic, not configuration
- **Single Source of Truth**: Currency configurations centralized
- **Improved Discoverability**: Currency types easily found in currencies folder

### **Long-term Benefits**
- **Scalability**: Easy to add new currencies by updating constants
- **Maintainability**: Currency-related changes isolated to currencies folder
- **Consistency**: All currency configuration in one location
- **Developer Experience**: Clear separation between data and logic

---

## ‚ö†Ô∏è **Potential Concerns & Mitigations**

### **1. Import Path Changes**
**Concern:** TemporaryKeyModal import path becomes longer
**Mitigation:** Clear, logical import path (`@/components/currencies/currencyData`)
**Impact:** Minimal - single import update

### **2. Bundle Size**
**Concern:** Additional exports from currencyData.ts
**Mitigation:** Tree-shaking will eliminate unused exports
**Impact:** Negligible - constants are small data structures

### **3. Future Currency Additions**
**Concern:** Adding new currencies requires touching currencyData.ts
**Mitigation:** This is actually BENEFICIAL - centralizes currency management
**Impact:** Positive architectural improvement

---

## üèÜ **Architectural Alignment**

### **Clean Architecture Principles**
- ‚úÖ **Single Responsibility**: Constants separated from component logic
- ‚úÖ **Dependency Inversion**: Components depend on currency abstractions
- ‚úÖ **Interface Segregation**: Currency constants properly grouped
- ‚úÖ **Open/Closed**: Easy to extend without modifying existing code

### **Currency Domain Organization**
```
src/components/currencies/
‚îú‚îÄ‚îÄ currencyData.ts          # ‚úÖ Types + Constants (SupportedTicker, NETWORKS, PROTOCOL_PREFIXES)
‚îú‚îÄ‚îÄ index.ts                 # Main currency exports
‚îú‚îÄ‚îÄ [currency].ts           # Individual currency implementations
‚îî‚îÄ‚îÄ ext/
    ‚îî‚îÄ‚îÄ multiFormatAddresses.tsx  # Address display utilities
```

---

## üéØ **Recommendation**

### **‚úÖ STRONGLY RECOMMEND: Move the Constants**

**Rationale:**
1. **Logical Cohesion**: Currency constants belong with currency data structures
2. **Clean Architecture**: Proper separation of configuration from component logic
3. **Low Risk**: Simple relocation with minimal impact
4. **High Benefit**: Improved organization and maintainability

### **Implementation Priority: HIGH**
- **Effort**: 15-30 minutes
- **Risk Level**: LOW
- **Impact**: POSITIVE
- **Dependencies**: None

### **Next Steps:**
1. Move constants to `currencyData.ts`
2. Update import in `TemporaryKeyModal.tsx`
3. Remove old definitions
4. Test functionality
5. Update documentation if needed

---

**Architectural Decision: Move Currency Constants** ‚úÖ | **Date:** 2025-10-11 | **Rationale:** Proper domain organization and separation of concerns

**Result:** Currency constants should be relocated to `currencyData.ts` to maintain clean architectural boundaries and improve code organization within the currencies domain.
