# Progress — Temporary privateKey modal, wallet derivation, QR, and send flow

Date: 08/08/2025

Scope: Implemented a Temporary privateKey login/utility modal with multi-chain key parsing, address derivation, QR rendering, verify/send UX, date-challenge confirm modal, and multiple UI refinements.

Key changes

1) New modal and wiring
- Added `src/components/TemporaryKeyModal.tsx` implementing the requested flow
- Hooked into `NetworkOptions` via `onTemporaryKeyClick`
- Rendered modal from `WindowsLogin` with state management

2) Networks supported (dropdown "icon TICKER://")
- ALGO, BNB, DOGE, ETH, LTC, LUNC, SOL, XTZ (icons wired; derivation implemented for ALGO, ETH, LTC, LUNC, SOL, XTZ; DOGE/BNB visible for now, not yet deriving)

3) Private key parsing and address derivation
- ETH: ethers private key → checksum address
- SOL: JSON array/base58/hex ed25519 secret → base58 address
- ALGO: mnemonic → address
- XTZ: local ed25519/Blake2b/base58 (no taquito-signer; removed to avoid SES/global issues)
- LTC: WIF/hex → P2PKH manually via noble-secp + hashes
- LUNC: secp256k1 → terra bech32 address via ripemd160(sha256(pubkey))

4) QR code and address display
- Shows QR for public wallet address with address centered below; balance placeholder shown

5) Verify/send UX
- Recipient field plus verify-recipient field (typing only; paste disabled)
- QR scanner to capture recipient address
- Amount input; Send button inline to the right
- Date challenge moved to second modal that opens on Send; must input today’s date in randomized format before confirming

6) Scanner layout
- Scanner appears to the right; sized to fit modal (approx 420x200)

7) UI/UX refinements
- Title/labels set to black per requests (Network, Recipient, Verify recipient, Amount)
- Dropdown width narrowed; private key input widened and white placeholder text
- Centered QR and address
- Small “✕” close control in top-right; closing (button or overlay) clears all inputs/state

8) Dependency updates
- Installed: ethers, @solana/web3.js, algosdk, @noble/{secp256k1, ed25519, hashes}, bs58, bech32, wif, react-qr-code, @yudiel/react-qr-scanner
- Removed: @taquito/signer and @taquito/utils (replaced with pure JS derivation to avoid SES/global)

Files touched
- `src/components/TemporaryKeyModal.tsx` (new)
- `src/components/NetworkOptions.tsx` (callback to open modal)
- `src/components/WindowsLogin.tsx` (modal state/render)
- `package.json` (deps updated)

Build/tests
- Lint clean; production build succeeds

Follow-ups
- Implement key/address derivation for BNB and DOGE (currently placeholders in dropdown)
- Hook balance fetching per chain via appropriate RPC providers
- Add actual send for each chain once provider endpoints are available


